{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\NGK\\\\Downloads\\\\entain-automation-coding-task\\\\entain-automation-coding-task\\\\src\\\\components\\\\CountdownTimer\\\\CountdownTimer.tsx\",\n    _s = $RefreshSig$();\n\nimport './CountdownTimer.css';\nimport { memo, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst _CountdownTimer = _ref => {\n  _s();\n\n  let {\n    advertisedStart\n  } = _ref;\n  const [countdownString, setCountdownString] = useState();\n\n  const getCountdownString = () => {\n    let secondsFromNow = Math.floor((advertisedStart.getTime() - new Date().getTime()) / 1000);\n    const prefix = secondsFromNow < 0 ? '-' : '';\n    secondsFromNow = Math.abs(secondsFromNow);\n\n    if (Math.abs(secondsFromNow) < 60) {\n      return `${prefix}${secondsFromNow}s`;\n    }\n\n    const minutes = Math.floor(secondsFromNow / 60);\n\n    if (minutes >= 60) {\n      return `${Math.floor(minutes / 60)}h`;\n    }\n\n    const secondsRemainder = secondsFromNow - minutes * 60;\n\n    if (minutes >= 5 || secondsRemainder === 0) {\n      return `${prefix}${minutes}m`;\n    }\n\n    return `${prefix}${minutes}m ${secondsRemainder}s`;\n  };\n\n  useEffect(() => {\n    setCountdownString(getCountdownString());\n    setInterval(() => {\n      setCountdownString(getCountdownString());\n    }, 1000); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [advertisedStart]);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: countdownString\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(_CountdownTimer, \"+i+TxrJ2VgMMJpbyZP2dqMWE6IM=\");\n\nexport const CountdownTimer = /*#__PURE__*/memo(_CountdownTimer);","map":{"version":3,"names":["memo","useEffect","useState","_CountdownTimer","advertisedStart","countdownString","setCountdownString","getCountdownString","secondsFromNow","Math","floor","getTime","Date","prefix","abs","minutes","secondsRemainder","setInterval","CountdownTimer"],"sources":["C:/Users/NGK/Downloads/entain-automation-coding-task/entain-automation-coding-task/src/components/CountdownTimer/CountdownTimer.tsx"],"sourcesContent":["import './CountdownTimer.css';\nimport { memo, useEffect, useState } from \"react\";\n\ntype Props = { advertisedStart: Date };\n\nconst _CountdownTimer = ({ advertisedStart }: Props): JSX.Element => {\n  const [countdownString, setCountdownString] = useState<string>();\n\n  const getCountdownString = (): string => {\n    let secondsFromNow = Math.floor((advertisedStart.getTime() - (new Date()).getTime()) / 1000);\n\n    const prefix = secondsFromNow < 0 ? '-' : '';\n\n    secondsFromNow = Math.abs(secondsFromNow);\n\n    if (Math.abs(secondsFromNow) < 60) {\n      return `${prefix}${secondsFromNow}s`;\n    }\n\n    const minutes = Math.floor(secondsFromNow / 60);\n\n    if (minutes >= 60) {\n      return `${Math.floor(minutes / 60)}h`;\n    }\n\n    const secondsRemainder = secondsFromNow - minutes * 60;\n    \n    if (minutes >= 5 || secondsRemainder === 0) {\n      return `${prefix}${minutes}m`;\n    }\n\n    return `${prefix}${minutes}m ${secondsRemainder}s`;\n  }\n\n  useEffect(() => {\n    setCountdownString(getCountdownString());\n    setInterval(() => {\n      setCountdownString(getCountdownString());\n    }, 1000);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [advertisedStart]);\n\n  return (\n    <p>{countdownString}</p>\n  )\n}\n\nexport const CountdownTimer = memo(_CountdownTimer);\n"],"mappings":";;;AAAA,OAAO,sBAAP;AACA,SAASA,IAAT,EAAeC,SAAf,EAA0BC,QAA1B,QAA0C,OAA1C;;;AAIA,MAAMC,eAAe,GAAG,QAA6C;EAAA;;EAAA,IAA5C;IAAEC;EAAF,CAA4C;EACnE,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCJ,QAAQ,EAAtD;;EAEA,MAAMK,kBAAkB,GAAG,MAAc;IACvC,IAAIC,cAAc,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACN,eAAe,CAACO,OAAhB,KAA6B,IAAIC,IAAJ,EAAD,CAAaD,OAAb,EAA7B,IAAuD,IAAlE,CAArB;IAEA,MAAME,MAAM,GAAGL,cAAc,GAAG,CAAjB,GAAqB,GAArB,GAA2B,EAA1C;IAEAA,cAAc,GAAGC,IAAI,CAACK,GAAL,CAASN,cAAT,CAAjB;;IAEA,IAAIC,IAAI,CAACK,GAAL,CAASN,cAAT,IAA2B,EAA/B,EAAmC;MACjC,OAAQ,GAAEK,MAAO,GAAEL,cAAe,GAAlC;IACD;;IAED,MAAMO,OAAO,GAAGN,IAAI,CAACC,KAAL,CAAWF,cAAc,GAAG,EAA5B,CAAhB;;IAEA,IAAIO,OAAO,IAAI,EAAf,EAAmB;MACjB,OAAQ,GAAEN,IAAI,CAACC,KAAL,CAAWK,OAAO,GAAG,EAArB,CAAyB,GAAnC;IACD;;IAED,MAAMC,gBAAgB,GAAGR,cAAc,GAAGO,OAAO,GAAG,EAApD;;IAEA,IAAIA,OAAO,IAAI,CAAX,IAAgBC,gBAAgB,KAAK,CAAzC,EAA4C;MAC1C,OAAQ,GAAEH,MAAO,GAAEE,OAAQ,GAA3B;IACD;;IAED,OAAQ,GAAEF,MAAO,GAAEE,OAAQ,KAAIC,gBAAiB,GAAhD;EACD,CAxBD;;EA0BAf,SAAS,CAAC,MAAM;IACdK,kBAAkB,CAACC,kBAAkB,EAAnB,CAAlB;IACAU,WAAW,CAAC,MAAM;MAChBX,kBAAkB,CAACC,kBAAkB,EAAnB,CAAlB;IACD,CAFU,EAER,IAFQ,CAAX,CAFc,CAKhB;EACC,CANQ,EAMN,CAACH,eAAD,CANM,CAAT;EAQA,oBACE;IAAA,UAAIC;EAAJ;IAAA;IAAA;IAAA;EAAA,QADF;AAGD,CAxCD;;GAAMF,e;;AA0CN,OAAO,MAAMe,cAAc,gBAAGlB,IAAI,CAACG,eAAD,CAA3B"},"metadata":{},"sourceType":"module"}